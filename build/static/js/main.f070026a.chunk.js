(this.webpackJsonpdealership=this.webpackJsonpdealership||[]).push([[0],{20:function(e,t,n){},21:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),i=n(9),a=n.n(i),o=(n(20),n(21),n(3)),s=n(7),d=Object.freeze({StartedWaiting:"StartedWaiting",StoppedWaiting:"StoppedWaiting",LoadedCars:"LoadedCars",LoadedCar:"LoadedCar",isAdding:"isAdding",doneAdding:"doneAdding",isEditing:"isEditing",doneEditing:"doneEditing",isUpdating:"isUpdating",doneUpdating:"doneUpdating",ClearCar:"ClearCar",ClearCars:"ClearCars",doneSelecting:"doneSelecting",resetSelect:"resetSelect",LoadedMake:"LoadedMake"});function j(e){return{type:d.LoadedCars,payload:e}}function l(){return console.log("Clearing cars"),{type:d.ClearCars}}function u(){return{type:d.StartedWaiting}}function b(){return{type:d.StoppedWaiting}}function h(){return console.log("Opening add menu"),{type:d.isAdding}}function O(){return console.log("Closing add menu"),{type:d.doneAdding}}function p(){return console.log("Closing edit menu"),{type:d.doneEditing}}function f(){return console.log("Closing update menu"),{type:d.doneUpdating}}function x(e){if(e.status>=200||e.status<300)return e;throw new Error("".concat(e.status,": ").concat(e.statusText))}function g(){return console.log("fetchCars"),function(e){e(u()),e((console.log("Clearing car"),{type:d.ClearCar})),fetch("https://project2.kylelacanna.me:8443/car").then(x).then((function(e){return e.json()})).then((function(t){e(j(t.results)),e(b()),e(p()),e(f()),e(O())})).catch((function(e){console.log(e)}))}}function m(){return console.log("priceAsc"),function(e){e(u()),e(l()),fetch("https://project2.kylelacanna.me:8443/car/price-asc").then(x).then((function(e){return e.json()})).then((function(t){console.log("here",t),e(j(t.results)),e(b()),e(p()),e(f()),e(O())})).catch((function(e){console.log("here2",e)}))}}function v(){return console.log("priceYear"),function(e){e(u()),e(l()),fetch("https://project2.kylelacanna.me:8443/car/year").then(x).then((function(e){return e.json()})).then((function(t){console.log("here",t),e(j(t.results)),e(b()),e(p()),e(f()),e(O())})).catch((function(e){console.log("here2",e)}))}}function C(){return console.log("fetchMake"),function(e){e(u()),e((console.log("Opening update menu"),{type:d.resetSelect})),e(l()),fetch("https://project2.kylelacanna.me:8443/make").then(x).then((function(e){return e.json()})).then((function(t){var n;console.log("here",t),e((n=t.results,{type:d.LoadedMake,payload:n})),e(b()),e(p()),e(f()),e(O())})).catch((function(e){console.log("here2",e)}))}}function k(e){return console.log("fetchMakes"),function(t){t(u()),t((console.log("Closing update menu"),{type:d.doneSelecting})),t(l()),fetch("https://project2.kylelacanna.me:8443/make/".concat(e)).then(x).then((function(e){return e.json()})).then((function(e){console.log("here",e),t(j(e.results)),t(b()),t(p()),t(f()),t(O())})).catch((function(e){console.log("here2",e)}))}}function y(e){return console.log("fetchCar",e),function(t){t(u()),fetch("https://project2.kylelacanna.me:8443/car/".concat(e)).then(x).then((function(e){return e.json()})).then((function(e){var n;t((n=e.results,{type:d.LoadedCar,payload:{car:n}})),console.log(e.results),t(b())})).catch((function(e){console.log(e)}))}}var S=n(5),A=n(0);function M(e){var t=Object(o.b)(),n=Object(c.useState)(""),r=Object(S.a)(n,2),i=r[0],a=r[1],s=Object(c.useState)(""),d=Object(S.a)(s,2),j=d[0],l=d[1],h=Object(c.useState)(""),p=Object(S.a)(h,2),f=p[0],x=p[1],m=Object(c.useState)(""),v=Object(S.a)(m,2),C=v[0],k=v[1],y=Object(c.useState)(""),M=Object(S.a)(y,2),E=M[0],w=M[1],L=Object(c.useState)(""),P=Object(S.a)(L,2),W=P[0],D=P[1],N=Object(c.useState)(""),U=Object(S.a)(N,2),T=U[0],B=U[1],$=Object(c.useState)(""),F=Object(S.a)($,2),I=F[0],J=F[1];return Object(A.jsxs)("div",{children:[Object(A.jsx)("h3",{children:"Add A Car"}),Object(A.jsxs)("form",{children:[Object(A.jsxs)("div",{id:"inputs",children:[Object(A.jsxs)("h5",{children:["VIN: ",Object(A.jsx)("input",{id:"vin-input",type:"text",value:i,onChange:function(e){return a(e.target.value)}})]}),Object(A.jsxs)("h5",{children:["Make: ",Object(A.jsx)("input",{id:"make-input",type:"text",value:j,onChange:function(e){return l(e.target.value)}})]}),Object(A.jsxs)("h5",{children:["Model: ",Object(A.jsx)("input",{id:"model-input",type:"text",value:f,onChange:function(e){return x(e.target.value)}})]}),Object(A.jsxs)("h5",{children:["Year: ",Object(A.jsx)("input",{id:"year-input",type:"number",value:C,onChange:function(e){return k(e.target.value)}})]}),Object(A.jsxs)("h5",{children:["Color: ",Object(A.jsx)("input",{id:"color-input",type:"text",value:E,onChange:function(e){return w(e.target.value)}})]}),Object(A.jsxs)("h5",{children:["Miles: ",Object(A.jsx)("input",{id:"miles-input",type:"number",step:"any",value:T,onChange:function(e){return B(e.target.value)}})]}),Object(A.jsxs)("h5",{children:["Price: ",Object(A.jsx)("input",{id:"price-input",type:"number",step:"any",value:W,onChange:function(e){return D(e.target.value)}})]}),Object(A.jsxs)("h5",{children:["Image Link: ",Object(A.jsx)("input",{id:"link-input",type:"url",value:I,onChange:function(e){return J(e.target.value)}})]})]}),Object(A.jsxs)("div",{id:"add-buttons",children:[Object(A.jsx)("button",{class:"add-buttons",onClick:function(e){e.preventDefault(),e.stopPropagation(),t(function(e,t,n,c,r,i,a,o){return console.log("Adding Car",e),function(s){var d={vin:e,make:t,model:n,year:c,color:r,miles:i,price:a,link:o},j={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)};console.log("car",d),s(u()),fetch("https://project2.kylelacanna.me:8443/car",j).then((function(e){return e.json()})).then((function(e){s(b()),s(g()),s(O())})).catch((function(e){console.log(e)}))}}(i,j,f,C,E,T,W,I))},children:"Add"}),Object(A.jsx)("button",{class:"add-buttons",onClick:function(e){e.preventDefault(),e.stopPropagation(),t(O())},children:"Cancel"})]})]})]})}function E(e){console.log("update props",e);var t=Object(o.b)(),n=e.vin,r=Object(o.c)((function(e){return e.update})),i=Object(c.useState)(""),a=Object(S.a)(i,2),s=a[0],j=a[1];return Object(A.jsxs)("div",{id:"update",children:[!r&&Object(A.jsx)("button",{onClick:function(){return t((console.log("Opening update menu"),{type:d.isUpdating}))},children:"Update"}),r&&Object(A.jsxs)("form",{children:[Object(A.jsxs)("h5",{children:["New Price: ",Object(A.jsx)("input",{id:"price-input",type:"number",step:"any",value:s,onChange:function(e){return j(e.target.value)}})]}),Object(A.jsxs)("div",{id:"update-buttons",children:[Object(A.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),console.log("UPDATE",n,s),t(function(e,t){return console.log(e,t),function(n){var c={method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({price:t})};n(u()),fetch("https://project2.kylelacanna.me:8443/car/".concat(e),c).then((function(e){return e.json()})).then((function(t){n(b()),console.log("Done DId"),n(f()),n(p()),n(y(e)),n(g())})).catch((function(e){console.log(e)}))}}(n,s))},children:"Save"}),Object(A.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),t(f()),t(p())},children:"Cancel"})]})]})]})}function w(e){var t=Object(o.c)((function(e){return e.edit})),n=Object(o.b)(),c=e.car;return Object(A.jsxs)(A.Fragment,{children:[t!==c.id&&Object(A.jsx)("button",{onClick:function(){return n((e=c.id,console.log("Opening edit menu"),{type:d.isEditing,payload:e}));var e},children:"Edit"}),t===c.id&&Object(A.jsxs)("div",{children:[Object(A.jsx)(E,{vin:c.vin}),Object(A.jsx)("button",{onClick:function(){return n((e=c.id,function(t){console.log("id",e),t(u()),fetch("https://project2.kylelacanna.me:8443/car/".concat(e),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){t(b()),t(g()),t(p())})).catch((function(e){console.log(e)}))}));var e},children:"Delete"})]})]})}function L(e){var t=Object(o.c)((function(e){return e.cars})),n=Object(o.c)((function(e){return e.add})),r=Object(o.b)();return Object(c.useEffect)((function(){r(g()),console.log("dispatch to fetch cars")}),[r]),Object(A.jsx)("div",{id:"body",children:Object(A.jsxs)("div",{id:"background",children:[Object(A.jsx)("h1",{children:"CarMania Admin App"}),!n&&Object(A.jsx)("button",{onClick:function(){return r(h())},children:"Add New Car"}),n&&Object(A.jsx)(M,{}),Object(A.jsx)("div",{id:"cars",children:t.map((function(e){return Object(A.jsxs)("div",{id:"car",children:[Object(A.jsx)("img",{id:"cars-image",src:e.link,alt:e.model,width:"310"}),Object(A.jsxs)("div",{id:"cars-elements",children:[Object(A.jsxs)(s.b,{to:"/cars/".concat(e.vin),children:[e.year," ",e.make," ",e.model]}),Object(A.jsxs)("h4",{children:["$",e.price]}),Object(A.jsxs)("p",{children:["Miles: ",e.miles]}),Object(A.jsx)(w,{car:e})]})]},e.id)}))})]})})}var P=n(2);function W(){var e=Object(P.g)(),t=Object(o.b)();Object(c.useEffect)((function(){console.log("params.vin",e.vin),t(y(e.vin))}),[t,e.vin]);var n=Object(o.c)((function(e){return e.car}));return console.log(n,"here"),Object(A.jsx)("div",{id:"body",children:Object(A.jsx)("div",{id:"car-display",children:n.car&&n.car.map((function(e){return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsxs)("div",{children:[Object(A.jsx)("img",{id:"car-single",src:e.link,alt:e.model}),Object(A.jsxs)("h1",{children:[e.make," ",e.model]}),Object(A.jsx)("h2",{children:e.year}),Object(A.jsxs)("h3",{children:["$",e.price]}),Object(A.jsxs)("p",{children:["Miles: ",e.miles]}),Object(A.jsxs)("p",{children:["Color: ",e.color]})]},e.id),Object(A.jsx)(w,{car:e})]})}))})})}function D(e){var t=Object(o.c)((function(e){return e.cars})),n=Object(o.c)((function(e){return e.add})),r=Object(o.b)();return Object(c.useEffect)((function(){r(v()),console.log("dispatch to fetch year")}),[r]),Object(A.jsx)("div",{id:"body",children:Object(A.jsxs)("div",{id:"background",children:[Object(A.jsx)("h1",{children:"CarMania Admin App"}),Object(A.jsx)("h2",{children:"Sorted: Year (Newest -> Oldest)"}),!n&&Object(A.jsx)("button",{onClick:function(){return r(h())},children:"Add New Car"}),n&&Object(A.jsx)(M,{}),Object(A.jsx)("div",{id:"cars",children:t.map((function(e){return Object(A.jsxs)("div",{id:"car",children:[Object(A.jsx)("img",{id:"cars-image",src:e.link,alt:e.model,width:"310"}),Object(A.jsxs)("div",{id:"cars-elements",children:[Object(A.jsxs)(s.b,{to:"/cars/".concat(e.vin),children:[e.year," ",e.make," ",e.model]}),Object(A.jsxs)("h4",{children:["$",e.price]}),Object(A.jsxs)("p",{children:["Miles: ",e.miles]}),Object(A.jsx)(w,{car:e})]})]},e.id)}))})]})})}function N(e){var t=Object(o.c)((function(e){return e.makes})),n=Object(c.useState)(""),r=Object(S.a)(n,2),i=r[0],a=r[1],s=Object(o.b)();return Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("label",{for:"makes",children:Object(A.jsx)("h3",{children:"Choose a Make"})}),Object(A.jsxs)("select",{name:"makes",id:"makes",onChange:function(e){return a(e.target.value)},children:[Object(A.jsx)("option",{value:-1,children:"- - - - - - - - - -"}),t.map((function(e,t){return Object(A.jsx)("option",{value:e.make,children:e.make},t)}))]}),console.log("Selected",i),Object(A.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),s(k(i))},children:"Search"})]})}function U(e){var t=Object(o.c)((function(e){return e.cars})),n=Object(o.c)((function(e){return e.add})),r=Object(o.c)((function(e){return e.make})),i=Object(o.b)();return Object(c.useEffect)((function(){i(C()),console.log("dispatch to fetch cars")}),[i]),Object(A.jsx)("div",{id:"body",children:Object(A.jsxs)("div",{id:"background",children:[Object(A.jsx)("h1",{children:"CarMania Admin App"}),!r&&Object(A.jsx)("div",{children:Object(A.jsx)(N,{})}),r&&Object(A.jsxs)(A.Fragment,{children:[Object(A.jsx)("h2",{children:"Search By Make"}),!n&&Object(A.jsx)("button",{onClick:function(){return i(h())},children:"Add New Car"}),n&&Object(A.jsx)(M,{}),Object(A.jsx)("button",{onClick:function(e){e.preventDefault(),e.stopPropagation(),i(C())},children:"Search Other Makes"}),Object(A.jsx)("div",{id:"cars",children:t.map((function(e){return Object(A.jsxs)("div",{id:"car",children:[Object(A.jsx)("img",{id:"cars-image",src:e.link,alt:e.model,width:"310"}),Object(A.jsxs)("div",{id:"cars-elements",children:[Object(A.jsxs)(s.b,{to:"/cars/".concat(e.vin),children:[e.year," ",e.make," ",e.model]}),Object(A.jsxs)("h4",{children:["$",e.price]}),Object(A.jsxs)("p",{children:["Miles: ",e.miles]}),Object(A.jsx)(w,{car:e})]})]},e.id)}))})]})]})})}function T(e){var t=Object(o.c)((function(e){return e.cars})),n=Object(o.c)((function(e){return e.add})),r=Object(o.b)();return Object(c.useEffect)((function(){r(m()),console.log("dispatch to price asc")}),[r]),Object(A.jsx)("div",{id:"body",children:Object(A.jsxs)("div",{id:"background",children:[Object(A.jsx)("h1",{children:"CarMania Admin App"}),Object(A.jsx)("h2",{children:"Sorted: Price Ascending"}),!n&&Object(A.jsx)("button",{onClick:function(){return r(h())},children:"Add New Car"}),n&&Object(A.jsx)(M,{}),Object(A.jsx)("div",{id:"cars",children:t.map((function(e){return Object(A.jsxs)("div",{id:"car",children:[Object(A.jsx)("img",{id:"cars-image",src:e.link,alt:e.model,width:"310"}),Object(A.jsxs)("div",{id:"cars-elements",children:[Object(A.jsxs)(s.b,{to:"/cars/".concat(e.vin),children:[e.year," ",e.make," ",e.model]}),Object(A.jsxs)("h4",{children:["$",e.price]}),Object(A.jsxs)("p",{children:["Miles: ",e.miles]}),Object(A.jsx)(w,{car:e})]})]},e.id)}))})]})})}function B(e){var t=Object(o.b)();return Object(A.jsxs)("div",{id:"nav-bar",children:[Object(A.jsx)(s.b,{id:"home-button",to:"/cars",onClick:function(){return t(g())},children:Object(A.jsx)("b",{children:"All Cars"})}),Object(A.jsx)(s.b,{id:"home-button",to:"/cars/price-asc",onClick:function(){return t(m())},children:Object(A.jsx)("b",{children:"Search By Price"})}),Object(A.jsx)(s.b,{id:"home-button",to:"/cars/year",onClick:function(){return t(v())},children:Object(A.jsx)("b",{children:"Search By Year"})}),Object(A.jsx)(s.b,{id:"home-button",to:"/cars/make",onClick:function(){return t(C())},children:Object(A.jsx)("b",{children:"Search By Make"})})]})}var $=function(){var e=Object(o.c)((function(e){return e.isWaiting}));return Object(A.jsxs)("div",{className:"App",children:[Object(A.jsx)("div",{id:"nav-space",children:Object(A.jsx)(B,{})}),e&&Object(A.jsx)("div",{className:"spinner"}),Object(A.jsxs)(P.c,{children:[Object(A.jsx)(P.a,{path:"/",element:Object(A.jsx)(L,{})}),Object(A.jsx)(P.a,{path:"/cars",element:Object(A.jsx)(L,{})}),Object(A.jsx)(P.a,{path:"/cars/:vin",element:Object(A.jsx)(W,{})}),Object(A.jsx)(P.a,{path:"/cars/price-asc",element:Object(A.jsx)(T,{})}),Object(A.jsx)(P.a,{path:"/cars/year",element:Object(A.jsx)(D,{})}),Object(A.jsx)(P.a,{path:"/cars/make",element:Object(A.jsx)(U,{})})]})]})},F=n(4),I=n(13),J=n(15),Y=Object(I.b)((function(e,t){switch(t.type){case d.LoadedCars:return Object(F.a)(Object(F.a)({},e),{},{cars:t.payload});case d.LoadedCar:return console.log("here",t.payload),Object(F.a)(Object(F.a)({},e),{},{car:t.payload});case d.LoadedMake:return Object(F.a)(Object(F.a)({},e),{},{makes:t.payload});case d.ClearCars:return Object(F.a)(Object(F.a)({},e),{},{cars:[]});case d.ClearCar:return Object(F.a)(Object(F.a)({},e),{},{car:[]});case d.StartedWaiting:return Object(F.a)(Object(F.a)({},e),{},{isWaiting:!0});case d.StoppedWaiting:return Object(F.a)(Object(F.a)({},e),{},{isWaiting:!1});case d.isAdding:return Object(F.a)(Object(F.a)({},e),{},{add:!0});case d.doneAdding:return Object(F.a)(Object(F.a)({},e),{},{add:!1});case d.isEditing:return Object(F.a)(Object(F.a)({},e),{},{edit:t.payload});case d.doneEditing:return Object(F.a)(Object(F.a)({},e),{},{edit:-1});case d.isUpdating:return Object(F.a)(Object(F.a)({},e),{},{update:!0});case d.doneUpdating:return Object(F.a)(Object(F.a)({},e),{},{update:!1});case d.resetSelect:return Object(F.a)(Object(F.a)({},e),{},{make:!1});case d.doneSelecting:return Object(F.a)(Object(F.a)({},e),{},{make:!0});default:return e}}),{cars:[],car:[],makes:[],add:!1,edit:-1,make:!1,update:!1,isWaiting:!1},Object(I.a)(J.a));a.a.render(Object(A.jsx)(r.a.StrictMode,{children:Object(A.jsx)(o.a,{store:Y,children:Object(A.jsx)(s.a,{children:Object(A.jsx)($,{})})})}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.f070026a.chunk.js.map